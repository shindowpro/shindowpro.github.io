"use strict";!function(o){o(document).ready(function(){var a=o(".php_prefix_datapass").data("options"),t=o(".php_prefix_datapass_blog").data("options"),e=o(".watchlist-contens").data("options");"load_more"==a&&o(".php_prefix_loadmore_btn").click(function(){var t=o(this).attr("data-loading-text"),e=o(this).text(),i=o(this),a={action:"loadmore",query:streamit_loadmore_params.posts,page:streamit_loadmore_params.current_page};o.ajax({url:streamit_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){i.text(t)},success:function(a){a?(i.text(e).prev("div").append(a),streamit_loadmore_params.current_page++,streamit_loadmore_params.current_page==streamit_loadmore_params.max_page&&i.remove()):i.remove()}})}),"load_more"==t&&o(".php_prefix_loadmore_btn_blog").click(function(){var t=o(this).attr("data-loading-text"),e=o(this).text(),i=o(this),a={action:"loadmore_blog",query:streamit_loadmore_params.posts,page:streamit_loadmore_params.current_page};o.ajax({url:streamit_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){i.text(t)},success:function(a){a?(i.text(e).prev().after(a),streamit_loadmore_params.current_page++,streamit_loadmore_params.current_page==streamit_loadmore_params.max_page&&i.remove()):i.remove()}})}),"load_more"==e&&o(".php_prefix_loadmore_btn").click(function(){var t=o(this).attr("data-loading-text"),e=o(this).text(),i=o(".watchlist-contens").data("pages"),r=o(this),a={action:"loadmore_archive",query:streamit_loadmore_params.posts,page:streamit_loadmore_params.current_page,availablepost:o(".watchlist-contens").data("displaypost")};o.ajax({url:streamit_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){r.text(t)},success:function(a){a?(r.text(e).prev("div").append(a),watchlist_last_item(),circle_chart(),streamit_loadmore_params.current_page++,streamit_loadmore_params.current_page==i&&r.remove()):r.remove()}})})}),o(function(r){var o=!0,s=2e3,a=r(".php_prefix_datapass").data("options"),t=r(".php_prefix_datapass_blog").data("options"),e=r(".php_prefix_datapass_archive").data("options");r(".css_prefix-product-main-list").data("options");"infinite_scroll"==a&&r(window).scroll(function(){var a={action:"loadmore",query:streamit_loadmore_params.posts,page:streamit_loadmore_params.current_page};r(document).scrollTop()>r(document).height()-s&&1==o&&r.ajax({url:streamit_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){o=!1},success:function(a){a?(r(".loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),r("#main").find("article:last-of-type").after(a),o=!0,streamit_loadmore_params.current_page++,streamit_loadmore_params.current_page==streamit_loadmore_params.max_page&&r(".loader-wheel-container").html("")):r(".loader-wheel-container").html("")}})}),"infinite_scroll"==t&&r(window).scroll(function(){var a={action:"loadmore_blog",query:streamit_loadmore_params.posts,page:streamit_loadmore_params.current_page};r(document).scrollTop()>r(document).height()-s&&1==o&&r.ajax({url:streamit_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){o=!1},success:function(a){a?(r(".loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),r("#main").find(".css_prefix-blog-main-list .loader-wheel-container").before(a),o=!0,streamit_loadmore_params.current_page++,streamit_loadmore_params.current_page==streamit_loadmore_params.max_page&&r(".loader-wheel-container").html("")):r(".loader-wheel-container").html("")}})}),"infinite_scroll"==e&&r(window).scroll(function(){var t=r(".watchlist-contens").data("pages"),e=r(".loader-wheel-container"),a=(r(this),{action:"loadmore_archive",query:streamit_loadmore_params.posts,page:streamit_loadmore_params.current_page,availablepost:r(".watchlist-contens").data("displaypost")});r(document).scrollTop()>r(document).height()-s&&1==o&&r.ajax({url:streamit_loadmore_params.ajaxurl,data:a,type:"POST",beforeSend:function(a){o=!1},success:function(a){a?(r(".loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),e.prev("div").append(a),watchlist_last_item(),circle_chart(),streamit_loadmore_params.current_page++,o=!0,streamit_loadmore_params.current_page==t&&r(".loader-wheel-container").html("")):r(".loader-wheel-container").html("")}})}),0<r("#cast-person-list").length&&r("#cast-person-list").scroll(function(){var a,t,e,i=r(this);"infinite_scroll"==i.find(".streamit_cast_list.active").data("options")&&r(document).scrollTop()>r(document).height()-s&&1==o&&(o=!1,a=parseInt(i.find(".streamit_cast_list.active").data("current-page")),e=i.find(".streamit_cast_list.active").attr("data-attibute"),t=window.location.href,e={action:"loadmore_person",query:streamit_loadmore_params.posts,page:a,href:t,post_type:e},a++,i.find(".streamit_cast_list.active").data("current-page",a),r.ajax({url:streamit_loadmore_params.ajaxurl,data:e,type:"POST",success:function(a){a?(i.find(".streamit_cast_list.active .loader-wheel-container").html('<div class="loader-wheel"><i><i><i><i><i><i><i><i><i><i><i><i></i></i></i></i></i></i></i></i></i></i></i></i></div>'),i.find(".streamit_cast_list.active .cast-related-list tr:last-child").after(a),o=!0):i.find(".streamit_cast_list.active .loader-wheel-container").html("")}}))})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYWRtb3JlLmpzIl0sIm5hbWVzIjpbImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCJzdHJlYW1pdF9vcHRpb25zIiwiZGF0YSIsInN0cmVhbWl0X29wdGlvbnNfYmxvZyIsInN0cmVhbWl0X29wdGlvbl9hY2hpdmUiLCJjbGljayIsImJ1dHRvbl9sb2FkIiwidGhpcyIsImF0dHIiLCJidXR0b25fdGV4dCIsInRleHQiLCJidXR0b24iLCJhY3Rpb24iLCJxdWVyeSIsInN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcyIsInBhZ2UiLCJjdXJyZW50X3BhZ2UiLCJhamF4IiwidXJsIiwidHlwZSIsInhociIsImJlZm9yZVNlbmQiLCJzdWNjZXNzIiwicHJldiIsImFwcGVuZCIsIm1heF9wYWdlIiwicmVtb3ZlIiwiYWpheHVybCIsInBvc3RzIiwiYXZhaWxhYmxlcG9zdCIsIndhdGNobGlzdF9sYXN0X2l0ZW0iLCJjaXJjbGVfY2hhcnQiLCJjYW5CZUxvYWRlZCIsImJvdHRvbU9mZnNldCIsInN0cmVhbWl0X29wdGlvbl9hcmNoaXZlIiwid2luZG93Iiwic2Nyb2xsVG9wIiwiaGVpZ2h0IiwiZmluZCIsImFmdGVyIiwiaHRtbCIsInNjcm9sbCIsImJlZm9yZSIsImxvYWRlcl93aGVlbCIsImxlbmd0aCIsInN0cmVhbWl0X2N1cnJlbnRfcGFnZSIsIl90aGlzIiwicG9zdCIsImhyZWYiLCJwb3N0X3R5cGUiXSwibWFwcGluZ3MiOiJjQUFBLFNBQVdBLEdBQVZBLEVBQUFDLFVBQUFDLE1BQWtCLFdBSWpCLElBQUFDLEVBQW9CSCxFQUFHQSx3QkFBTUksS0FBeUJBLFdBQ3REQyxFQUF5QkwsRUFBR0EsNkJBQU1JLEtBQThCQSxXQUNoRUUsRUFBMEJOLEVBQUdBLHNCQUFNSSxLQUF1QkEsV0FNdENKLGFBQWxCRyxHQUNBSCxFQUFBLDRCQUFrQk8sTUFBQSxXQUNsQixJQUFBQyxFQUFhUixFQUFPUyxNQUFwQkMsS0FBQSxxQkFBQUMsRUFDUVgsRUFBQVMsTUFBQUcs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QUFBLHdIQUpwQkcsRUFBYXBCLEtBQUssT0FBT0MsT0FBT3RCLEdBTWhDNEIsc0JBR0FDLGVBQ0FqQyx5QkFBT2tCLGVBQ1BnQixHQUFBLEVBckJIbEIseUJBQUFFLGNBQUFTLEdBd0JBM0IsRUFBQSwyQkFBQTBDLEtBQUEsS0FKRzFDLEVBQU8sMkJBQTJCMEMsS0FBSyxTQWtCekMsRUFBQVIsRUFBQUEscUJBQUFZLFFBQ0E5QyxFQUFBLHFCQUFJK0MsT0FBcUIsV0FOM0IsSUFXR0EsRUFFQTNCLEVBQ0FoQixFQWRDNEMsRUFBUWhELEVBQU9TLE1BRWdCLG1CQUtYdUMsRUFBQVIsS0FBQSw4QkFBbUNwQyxLQUE5QyxZQUVYSixFQUFJSSxVQUFPa0MsWUFBQXRDLEVBQUFDLFVBQUFzQyxTQUFBSixHQUFBLEdBQUFELElBQ1ZBLEdBQUEsRUFDQWEsRUFBUy9CLFNBQUFBLEVBQXlCYyxLQUZ4Qiw4QkFBQTFCLEtBQUEsaUJBR1Y2QyxFQUFBRCxFQUFRRCxLQUFBQSw4QkFIRXJDLEtBQUEsaUJBSVZVLEVBQUFpQixPQUFRakIsU0FKRThCLEtBS1Y5QyxFQUFBLENBTFVVLE9BQVgsa0JBT0FpQyxNQUFBQSx5QkFBcUJqQixNQUpwQmIsS0FBUThCLEVBS1RDLEtBQUFBLEVBSENHLFVBQWFGLEdBS2I3QixJQUNBaEIsRUFBQUEsS0FBQUEsOEJBRldBLEtBQUEsZUFBQTJDLEdBR1gxQixFQUFBQSxLQUFJLENBQ0pHLElBQUFBLHlCQUFTSyxRQUNSekIsS0FBQUEsRUFDQzRDLEtBQUFBLE9BRkZ4QixRQUFTLFNBQVVwQixHQUdqQjRDLEdBREFBLEVBQU1SLEtBQUssc0RBQXNERSxLQUFLLHdIQUN0RU0sRUFBTVIsS0FBSywrREFBK0RDLE1BQU1yQyxHQUNoRjhCLEdBQUFBLEdBSUFjLEVBQUFSLEtBQUEsc0RBQUFFLEtBQUEsWUE5UlQsQ0E0U0cxQyIsImZpbGUiOiJsb2FkbW9yZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGpRdWVyeSkge1xyXG5cclxuXHRqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRsZXQgc3RyZWFtaXRfb3B0aW9ucyA9IGpRdWVyeSgnLnBocF9wcmVmaXhfZGF0YXBhc3MnKS5kYXRhKCdvcHRpb25zJyk7XHJcblx0XHRsZXQgc3RyZWFtaXRfb3B0aW9uc19ibG9nID0galF1ZXJ5KCcucGhwX3ByZWZpeF9kYXRhcGFzc19ibG9nJykuZGF0YSgnb3B0aW9ucycpO1xyXG5cdFx0bGV0IHN0cmVhbWl0X29wdGlvbl9hY2hpdmUgPSBqUXVlcnkoJy53YXRjaGxpc3QtY29udGVucycpLmRhdGEoJ29wdGlvbnMnKTtcclxuXHJcblxyXG5cclxuXHRcdGlmIChzdHJlYW1pdF9vcHRpb25zID09IFwibG9hZF9tb3JlXCIpIHtcclxuXHRcdFx0alF1ZXJ5KCcucGhwX3ByZWZpeF9sb2FkbW9yZV9idG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0bGV0IGJ1dHRvbl9sb2FkID0galF1ZXJ5KHRoaXMpLmF0dHIoJ2RhdGEtbG9hZGluZy10ZXh0Jyk7XHJcblx0XHRcdFx0bGV0IGJ1dHRvbl90ZXh0ID0galF1ZXJ5KHRoaXMpLnRleHQoKTtcclxuXHRcdFx0XHRsZXQgYnV0dG9uID0galF1ZXJ5KHRoaXMpLFxyXG5cdFx0XHRcdFx0ZGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0J2FjdGlvbic6ICdsb2FkbW9yZScsXHJcblx0XHRcdFx0XHRcdCdxdWVyeSc6IHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5wb3N0cywgLy8gdGhhdCdzIGhvdyB3ZSBnZXQgcGFyYW1zIGZyb20gd3BfbG9jYWxpemVfc2NyaXB0KCkgZnVuY3Rpb25cclxuXHRcdFx0XHRcdFx0J3BhZ2UnOiBzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdGpRdWVyeS5hamF4KHsgLy8geW91IGNhbiBhbHNvIHVzZSBqUXVlcnkucG9zdCBoZXJlXHJcblx0XHRcdFx0XHR1cmw6IHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLCAvLyBBSkFYIGhhbmRsZXJcclxuXHRcdFx0XHRcdGRhdGE6IGRhdGEsXHJcblx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXHJcblx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XHJcblx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KGJ1dHRvbl9sb2FkKTsgLy8gY2hhbmdlIHRoZSBidXR0b24gdGV4dCwgeW91IGNhbiBhbHNvIGFkZCBhIHByZWxvYWRlciBpbWFnZVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnRleHQoYnV0dG9uX3RleHQpLnByZXYoJ2RpdicpLmFwcGVuZChkYXRhKTsgLy8gaW5zZXJ0IG5ldyBwb3N0c1xyXG5cdFx0XHRcdFx0XHRcdHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UrKztcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UgPT0gc3RyZWFtaXRfbG9hZG1vcmVfcGFyYW1zLm1heF9wYWdlKVxyXG5cdFx0XHRcdFx0XHRcdFx0YnV0dG9uLnJlbW92ZSgpOyAvLyBpZiBsYXN0IHBhZ2UsIHJlbW92ZSB0aGUgYnV0dG9uXHJcblxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi5yZW1vdmUoKTsgLy8gaWYgbm8gZGF0YSwgcmVtb3ZlIHRoZSBidXR0b24gYXMgd2VsbFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHN0cmVhbWl0X29wdGlvbnNfYmxvZyA9PSBcImxvYWRfbW9yZVwiKSB7XHJcblx0XHRcdC8vKiogYmxvZyBsb2FkIG1vcmUgKi8vXHJcblx0XHRcdGpRdWVyeSgnLnBocF9wcmVmaXhfbG9hZG1vcmVfYnRuX2Jsb2cnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0bGV0IGJ1dHRvbl9sb2FkID0galF1ZXJ5KHRoaXMpLmF0dHIoJ2RhdGEtbG9hZGluZy10ZXh0Jyk7XHJcblx0XHRcdFx0bGV0IGJ1dHRvbl90ZXh0ID0galF1ZXJ5KHRoaXMpLnRleHQoKTtcclxuXHRcdFx0XHRsZXQgYnV0dG9uID0galF1ZXJ5KHRoaXMpLFxyXG5cdFx0XHRcdFx0ZGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0J2FjdGlvbic6ICdsb2FkbW9yZV9ibG9nJyxcclxuXHRcdFx0XHRcdFx0J3F1ZXJ5Jzogc3RyZWFtaXRfbG9hZG1vcmVfcGFyYW1zLnBvc3RzLCAvLyB0aGF0J3MgaG93IHdlIGdldCBwYXJhbXMgZnJvbSB3cF9sb2NhbGl6ZV9zY3JpcHQoKSBmdW5jdGlvblxyXG5cdFx0XHRcdFx0XHQncGFnZSc6IHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2VcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdGpRdWVyeS5hamF4KHsgLy8geW91IGNhbiBhbHNvIHVzZSBqUXVlcnkucG9zdCBoZXJlXHJcblx0XHRcdFx0XHR1cmw6IHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLCAvLyBBSkFYIGhhbmRsZXJcclxuXHRcdFx0XHRcdGRhdGE6IGRhdGEsXHJcblx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXHJcblx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XHJcblx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KGJ1dHRvbl9sb2FkKTsgLy8gY2hhbmdlIHRoZSBidXR0b24gdGV4dCwgeW91IGNhbiBhbHNvIGFkZCBhIHByZWxvYWRlciBpbWFnZVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnRleHQoYnV0dG9uX3RleHQpLnByZXYoKS5hZnRlcihkYXRhKTsgLy8gaW5zZXJ0IG5ldyBwb3N0c1xyXG5cdFx0XHRcdFx0XHRcdHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UrKztcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UgPT0gc3RyZWFtaXRfbG9hZG1vcmVfcGFyYW1zLm1heF9wYWdlKVxyXG5cdFx0XHRcdFx0XHRcdFx0YnV0dG9uLnJlbW92ZSgpOyAvLyBpZiBsYXN0IHBhZ2UsIHJlbW92ZSB0aGUgYnV0dG9uXHJcblxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi5yZW1vdmUoKTsgLy8gaWYgbm8gZGF0YSwgcmVtb3ZlIHRoZSBidXR0b24gYXMgd2VsbFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc3RyZWFtaXRfb3B0aW9uX2FjaGl2ZSA9PSBcImxvYWRfbW9yZVwiKSB7XHJcblx0XHRcdGpRdWVyeSgnLnBocF9wcmVmaXhfbG9hZG1vcmVfYnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGxldCBidXR0b25fbG9hZCA9IGpRdWVyeSh0aGlzKS5hdHRyKCdkYXRhLWxvYWRpbmctdGV4dCcpO1xyXG5cdFx0XHRcdGxldCBidXR0b25fdGV4dCA9IGpRdWVyeSh0aGlzKS50ZXh0KCk7XHJcblx0XHRcdFx0bGV0IG1heF9wYWdlID0galF1ZXJ5KCcud2F0Y2hsaXN0LWNvbnRlbnMnKS5kYXRhKCdwYWdlcycpO1xyXG5cdFx0XHRcdGxldCBidXR0b24gPSBqUXVlcnkodGhpcyksXHJcblx0XHRcdFx0XHRkYXRhID0ge1xyXG5cdFx0XHRcdFx0XHQnYWN0aW9uJzogJ2xvYWRtb3JlX2FyY2hpdmUnLFxyXG5cdFx0XHRcdFx0XHQncXVlcnknOiBzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMucG9zdHMsIC8vIHRoYXQncyBob3cgd2UgZ2V0IHBhcmFtcyBmcm9tIHdwX2xvY2FsaXplX3NjcmlwdCgpIGZ1bmN0aW9uXHJcblx0XHRcdFx0XHRcdCdwYWdlJzogc3RyZWFtaXRfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZSxcclxuXHRcdFx0XHRcdFx0J2F2YWlsYWJsZXBvc3QnOiBqUXVlcnkoJy53YXRjaGxpc3QtY29udGVucycpLmRhdGEoJ2Rpc3BsYXlwb3N0JyksXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdGpRdWVyeS5hamF4KHsgLy8geW91IGNhbiBhbHNvIHVzZSBqUXVlcnkucG9zdCBoZXJlXHJcblx0XHRcdFx0XHR1cmw6IHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLCAvLyBBSkFYIGhhbmRsZXJcclxuXHRcdFx0XHRcdGRhdGE6IGRhdGEsXHJcblx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXHJcblx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XHJcblx0XHRcdFx0XHRcdGJ1dHRvbi50ZXh0KGJ1dHRvbl9sb2FkKTsgLy8gY2hhbmdlIHRoZSBidXR0b24gdGV4dCwgeW91IGNhbiBhbHNvIGFkZCBhIHByZWxvYWRlciBpbWFnZVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnRleHQoYnV0dG9uX3RleHQpLnByZXYoJ2RpdicpLmFwcGVuZChkYXRhKTsgLy8gaW5zZXJ0IG5ldyBwb3N0c1xyXG5cdFx0XHRcdFx0XHRcdHdhdGNobGlzdF9sYXN0X2l0ZW0oKTtcclxuXHRcdFx0XHRcdFx0XHRjaXJjbGVfY2hhcnQoKTtcclxuXHRcdFx0XHRcdFx0XHRzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlKys7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlID09IG1heF9wYWdlKVxyXG5cdFx0XHRcdFx0XHRcdFx0YnV0dG9uLnJlbW92ZSgpOyAvLyBpZiBsYXN0IHBhZ2UsIHJlbW92ZSB0aGUgYnV0dG9uXHJcblxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi5yZW1vdmUoKTsgLy8gaWYgbm8gZGF0YSwgcmVtb3ZlIHRoZSBidXR0b24gYXMgd2VsbFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0fSk7XHJcblxyXG5cdGpRdWVyeShmdW5jdGlvbiAoalF1ZXJ5KSB7XHJcblxyXG5cdFx0bGV0IGNhbkJlTG9hZGVkID0gdHJ1ZSxcclxuXHRcdFx0Ym90dG9tT2Zmc2V0ID0gMjAwMDsgLy8gdGhlIGRpc3RhbmNlIChpbiBweCkgZnJvbSB0aGUgcGFnZSBib3R0b20gd2hlbiB5b3Ugd2FudCB0byBsb2FkIG1vcmUgcG9zdHNcclxuXHJcblx0XHRsZXQgc3RyZWFtaXRfb3B0aW9ucyA9IGpRdWVyeSgnLnBocF9wcmVmaXhfZGF0YXBhc3MnKS5kYXRhKCdvcHRpb25zJyk7XHJcblx0XHRsZXQgc3RyZWFtaXRfb3B0aW9uc19ibG9nID0galF1ZXJ5KCcucGhwX3ByZWZpeF9kYXRhcGFzc19ibG9nJykuZGF0YSgnb3B0aW9ucycpO1xyXG5cdFx0bGV0IHN0cmVhbWl0X29wdGlvbl9hcmNoaXZlID0galF1ZXJ5KCcucGhwX3ByZWZpeF9kYXRhcGFzc19hcmNoaXZlJykuZGF0YSgnb3B0aW9ucycpXHJcblx0XHRsZXQgc3RyZWFtaXRfb3B0aW9uX3Byb2R1Y3QgPSBqUXVlcnkoJy5jc3NfcHJlZml4LXByb2R1Y3QtbWFpbi1saXN0JykuZGF0YSgnb3B0aW9ucycpO1xyXG5cdFx0aWYgKHN0cmVhbWl0X29wdGlvbnMgPT0gXCJpbmZpbml0ZV9zY3JvbGxcIikge1xyXG5cclxuXHRcdFx0alF1ZXJ5KHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRsZXQgZGF0YSA9IHtcclxuXHRcdFx0XHRcdCdhY3Rpb24nOiAnbG9hZG1vcmUnLFxyXG5cdFx0XHRcdFx0J3F1ZXJ5Jzogc3RyZWFtaXRfbG9hZG1vcmVfcGFyYW1zLnBvc3RzLFxyXG5cdFx0XHRcdFx0J3BhZ2UnOiBzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0aWYgKGpRdWVyeShkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPiAoalF1ZXJ5KGRvY3VtZW50KS5oZWlnaHQoKSAtIGJvdHRvbU9mZnNldCkgJiYgY2FuQmVMb2FkZWQgPT0gdHJ1ZSkge1xyXG5cclxuXHRcdFx0XHRcdGpRdWVyeS5hamF4KHtcclxuXHRcdFx0XHRcdFx0dXJsOiBzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMuYWpheHVybCxcclxuXHRcdFx0XHRcdFx0ZGF0YTogZGF0YSxcclxuXHRcdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxyXG5cdFx0XHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2FuQmVMb2FkZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KFwiLmxvYWRlci13aGVlbC1jb250YWluZXJcIikuaHRtbCgnPGRpdiBjbGFzcz1cImxvYWRlci13aGVlbFwiPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjxpPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvZGl2PicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCcjbWFpbicpLmZpbmQoJ2FydGljbGU6bGFzdC1vZi10eXBlJykuYWZ0ZXIoZGF0YSk7IC8vIHdoZXJlIHRvIGluc2VydCBwb3N0c1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2FuQmVMb2FkZWQgPSB0cnVlOyAvLyB0aGUgYWpheCBpcyBjb21wbGV0ZWQsIG5vdyB3ZSBjYW4gcnVuIGl0IGFnYWluXHJcblx0XHRcdFx0XHRcdFx0XHRzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlKys7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UgPT0gc3RyZWFtaXRfbG9hZG1vcmVfcGFyYW1zLm1heF9wYWdlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeShcIi5sb2FkZXItd2hlZWwtY29udGFpbmVyXCIpLmh0bWwoJycpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCcnKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cdFx0aWYgKHN0cmVhbWl0X29wdGlvbnNfYmxvZyA9PSBcImluZmluaXRlX3Njcm9sbFwiKSB7XHJcblx0XHRcdGpRdWVyeSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRcdC8vKiogc2VhcmNoIGxvYWQgbW9yZSAqLy9cclxuXHRcdFx0XHRsZXQgZGF0YSA9IHtcclxuXHRcdFx0XHRcdCdhY3Rpb24nOiAnbG9hZG1vcmVfYmxvZycsXHJcblx0XHRcdFx0XHQncXVlcnknOiBzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMucG9zdHMsXHJcblx0XHRcdFx0XHQncGFnZSc6IHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2VcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRpZiAoalF1ZXJ5KGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+IChqUXVlcnkoZG9jdW1lbnQpLmhlaWdodCgpIC0gYm90dG9tT2Zmc2V0KSAmJiBjYW5CZUxvYWRlZCA9PSB0cnVlKSB7XHJcblxyXG5cdFx0XHRcdFx0alF1ZXJ5LmFqYXgoe1xyXG5cdFx0XHRcdFx0XHR1cmw6IHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLFxyXG5cdFx0XHRcdFx0XHRkYXRhOiBkYXRhLFxyXG5cdFx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXHJcblx0XHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcclxuXHRcdFx0XHRcdFx0XHRjYW5CZUxvYWRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCc8ZGl2IGNsYXNzPVwibG9hZGVyLXdoZWVsXCI+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9kaXY+Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoJyNtYWluJykuZmluZCgnLmNzc19wcmVmaXgtYmxvZy1tYWluLWxpc3QgLmxvYWRlci13aGVlbC1jb250YWluZXInKS5iZWZvcmUoZGF0YSk7IC8vIHdoZXJlIHRvIGluc2VydCBwb3N0c1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2FuQmVMb2FkZWQgPSB0cnVlOyAvLyB0aGUgYWpheCBpcyBjb21wbGV0ZWQsIG5vdyB3ZSBjYW4gcnVuIGl0IGFnYWluXHJcblx0XHRcdFx0XHRcdFx0XHRzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlKys7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoc3RyZWFtaXRfbG9hZG1vcmVfcGFyYW1zLmN1cnJlbnRfcGFnZSA9PSBzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMubWF4X3BhZ2UpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KFwiLmxvYWRlci13aGVlbC1jb250YWluZXJcIikuaHRtbCgnJyk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeShcIi5sb2FkZXItd2hlZWwtY29udGFpbmVyXCIpLmh0bWwoJycpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdC8vRm9yIEFyY2hpdmUgcGFnZSBcclxuXHRcdGlmIChzdHJlYW1pdF9vcHRpb25fYXJjaGl2ZSA9PSBcImluZmluaXRlX3Njcm9sbFwiKSB7XHJcblx0XHRcdGpRdWVyeSh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0XHRcdC8vKiogc2VhcmNoIGxvYWQgbW9yZSAqLy9cclxuXHJcblx0XHRcdFx0bGV0IG1heF9wYWdlID0galF1ZXJ5KCcud2F0Y2hsaXN0LWNvbnRlbnMnKS5kYXRhKCdwYWdlcycpO1xyXG5cdFx0XHRcdGxldCBsb2FkZXJfd2hlZWwgPSBqUXVlcnkoJy5sb2FkZXItd2hlZWwtY29udGFpbmVyJyk7XHJcblx0XHRcdFx0bGV0IGJ1dHRvbiA9IGpRdWVyeSh0aGlzKSxcclxuXHRcdFx0XHRcdGRhdGEgPSB7XHJcblx0XHRcdFx0XHRcdCdhY3Rpb24nOiAnbG9hZG1vcmVfYXJjaGl2ZScsXHJcblx0XHRcdFx0XHRcdCdxdWVyeSc6IHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5wb3N0cywgLy8gdGhhdCdzIGhvdyB3ZSBnZXQgcGFyYW1zIGZyb20gd3BfbG9jYWxpemVfc2NyaXB0KCkgZnVuY3Rpb25cclxuXHRcdFx0XHRcdFx0J3BhZ2UnOiBzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlLFxyXG5cdFx0XHRcdFx0XHQnYXZhaWxhYmxlcG9zdCc6IGpRdWVyeSgnLndhdGNobGlzdC1jb250ZW5zJykuZGF0YSgnZGlzcGxheXBvc3QnKSxcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdGlmIChqUXVlcnkoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID4gKGpRdWVyeShkb2N1bWVudCkuaGVpZ2h0KCkgLSBib3R0b21PZmZzZXQpICYmIGNhbkJlTG9hZGVkID09IHRydWUpIHtcclxuXHRcdFx0XHRcdGpRdWVyeS5hamF4KHsgLy8geW91IGNhbiBhbHNvIHVzZSBqUXVlcnkucG9zdCBoZXJlXHJcblx0XHRcdFx0XHRcdHVybDogc3RyZWFtaXRfbG9hZG1vcmVfcGFyYW1zLmFqYXh1cmwsIC8vIEFKQVggaGFuZGxlclxyXG5cdFx0XHRcdFx0XHRkYXRhOiBkYXRhLFxyXG5cdFx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXHJcblx0XHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICh4aHIpIHtcclxuXHRcdFx0XHRcdFx0XHRjYW5CZUxvYWRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCc8ZGl2IGNsYXNzPVwibG9hZGVyLXdoZWVsXCI+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PGk+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9kaXY+Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHRsb2FkZXJfd2hlZWwucHJldignZGl2JykuYXBwZW5kKGRhdGEpOyAvLyBpbnNlcnQgbmV3IHBvc3RzXHJcblx0XHRcdFx0XHRcdFx0XHR3YXRjaGxpc3RfbGFzdF9pdGVtKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRjaXJjbGVfY2hhcnQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2UrKztcclxuXHRcdFx0XHRcdFx0XHRcdGNhbkJlTG9hZGVkID0gdHJ1ZTsgLy8gdGhlIGFqYXggaXMgY29tcGxldGVkLCBub3cgd2UgY2FuIHJ1biBpdCBhZ2FpblxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIChzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlID09IG1heF9wYWdlKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoXCIubG9hZGVyLXdoZWVsLWNvbnRhaW5lclwiKS5odG1sKCcnKTsgLy8gaWYgbGFzdCBwYWdlLCByZW1vdmUgdGhlIGJ1dHRvblxyXG5cclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KFwiLmxvYWRlci13aGVlbC1jb250YWluZXJcIikuaHRtbCgnJyk7IC8vIGlmIGxhc3QgcGFnZSwgcmVtb3ZlIHRoZSBidXR0b25cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyoqIENhc3QgaW5maW5pdGUgc2Nyb2xsKiovL1xyXG5cdFx0aWYgKGpRdWVyeShcIiNjYXN0LXBlcnNvbi1saXN0XCIpLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0alF1ZXJ5KFwiI2Nhc3QtcGVyc29uLWxpc3RcIikuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRsZXQgX3RoaXMgPSBqUXVlcnkodGhpcyk7XHJcblx0XHRcdFx0bGV0IHN0cmVhbWl0X29wdGlvbnNfcGVyc29uX2FsbCA9IF90aGlzLmZpbmQoJy5zdHJlYW1pdF9jYXN0X2xpc3QuYWN0aXZlJykuZGF0YSgnb3B0aW9ucycpO1xyXG5cdFx0XHRcdGlmIChzdHJlYW1pdF9vcHRpb25zX3BlcnNvbl9hbGwgPT0gJ2luZmluaXRlX3Njcm9sbCcpIHtcclxuXHRcdFx0XHRcdC8vKiogcGVyc29uIGxvYWQgbW9yZSAqLy9cclxuXHRcdFx0XHRcdGlmIChqUXVlcnkoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID4gKGpRdWVyeShkb2N1bWVudCkuaGVpZ2h0KCkgLSBib3R0b21PZmZzZXQpICYmIGNhbkJlTG9hZGVkID09IHRydWUpIHtcclxuXHRcdFx0XHRcdFx0Y2FuQmVMb2FkZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0bGV0IHN0cmVhbWl0X2N1cnJlbnRfcGFnZSA9IHBhcnNlSW50KF90aGlzLmZpbmQoJy5zdHJlYW1pdF9jYXN0X2xpc3QuYWN0aXZlJykuZGF0YSgnY3VycmVudC1wYWdlJykpO1xyXG5cdFx0XHRcdFx0XHRsZXQgcG9zdCA9IF90aGlzLmZpbmQoJy5zdHJlYW1pdF9jYXN0X2xpc3QuYWN0aXZlJykuYXR0cignZGF0YS1hdHRpYnV0ZScpO1xyXG5cdFx0XHRcdFx0XHRsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcblx0XHRcdFx0XHRcdGxldCBkYXRhID0ge1xyXG5cdFx0XHRcdFx0XHRcdCdhY3Rpb24nOiAnbG9hZG1vcmVfcGVyc29uJyxcclxuXHRcdFx0XHRcdFx0XHQncXVlcnknOiBzdHJlYW1pdF9sb2FkbW9yZV9wYXJhbXMucG9zdHMsXHJcblx0XHRcdFx0XHRcdFx0J3BhZ2UnOiBzdHJlYW1pdF9jdXJyZW50X3BhZ2UsXHJcblx0XHRcdFx0XHRcdFx0J2hyZWYnOiB1cmwsXHJcblx0XHRcdFx0XHRcdFx0J3Bvc3RfdHlwZSc6IHBvc3QsXHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdHN0cmVhbWl0X2N1cnJlbnRfcGFnZSsrO1xyXG5cdFx0XHRcdFx0XHRfdGhpcy5maW5kKCcuc3RyZWFtaXRfY2FzdF9saXN0LmFjdGl2ZScpLmRhdGEoJ2N1cnJlbnQtcGFnZScsIHN0cmVhbWl0X2N1cnJlbnRfcGFnZSk7XHJcblx0XHRcdFx0XHRcdGpRdWVyeS5hamF4KHtcclxuXHRcdFx0XHRcdFx0XHR1cmw6IHN0cmVhbWl0X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLFxyXG5cdFx0XHRcdFx0XHRcdGRhdGE6IGRhdGEsXHJcblx0XHRcdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxyXG5cdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRfdGhpcy5maW5kKCcuc3RyZWFtaXRfY2FzdF9saXN0LmFjdGl2ZSAubG9hZGVyLXdoZWVsLWNvbnRhaW5lcicpLmh0bWwoJzxkaXYgY2xhc3M9XCJsb2FkZXItd2hlZWxcIj48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48aT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2k+PC9pPjwvaT48L2Rpdj4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0X3RoaXMuZmluZCgnLnN0cmVhbWl0X2Nhc3RfbGlzdC5hY3RpdmUgLmNhc3QtcmVsYXRlZC1saXN0IHRyOmxhc3QtY2hpbGQnKS5hZnRlcihkYXRhKTsgLy8gd2hlcmUgdG8gaW5zZXJ0IHBvc3RzXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhbkJlTG9hZGVkID0gdHJ1ZTsgLy8gdGhlIGFqYXggaXMgY29tcGxldGVkLCBub3cgd2UgY2FuIHJ1biBpdCBhZ2FpblxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdF90aGlzLmZpbmQoJy5zdHJlYW1pdF9jYXN0X2xpc3QuYWN0aXZlIC5sb2FkZXItd2hlZWwtY29udGFpbmVyJykuaHRtbCgnJyk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHR9KTtcclxuXHJcblxyXG59KShqUXVlcnkpO1xyXG5cclxuIl19